{"version":3,"sources":["components/reducer.js","components/context.jsx","components/Navbar.jsx","components/CartItem.jsx","components/CartContainer.jsx","App.js","index.js"],"names":["reducer","state","action","type","cart","payload","newCart","filter","item","id","newCartInc","map","amount","newCartDec","console","log","reduce","cartTotal","cartItem","price","itemTotal","total","parseFloat","toFixed","Error","AppContext","createContext","defaultState","AppProvider","children","useReducer","dispatch","fetchData","a","axios","get","response","status","statusText","data","alert","error","useEffect","Provider","value","clearCart","removeItem","increase","decrease","Navbar","useContext","className","xmlns","viewBox","d","CartItem","img","title","src","alt","onClick","CartContainer","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11b1e068.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'FETCH_ITEMS':\r\n            return { ...state, cart: action.payload };\r\n        case 'CLEAR_CART':\r\n            return { ...state, cart: [] };\r\n        case 'REMOVE_ITEM':\r\n            const newCart = state.cart.filter(\r\n                (item) => item.id !== action.payload\r\n            );\r\n            return { ...state, cart: newCart };\r\n        case 'INCREASE':\r\n            const newCartInc = state.cart.map((item) => {\r\n                if (item.id === action.payload) {\r\n                    return { ...item, amount: item.amount + 1 };\r\n                }\r\n                return item;\r\n            });\r\n            return { ...state, cart: newCartInc };\r\n        case 'DECREASE':\r\n            const newCartDec = state.cart\r\n                .map((item) => {\r\n                    if (item.id === action.payload) {\r\n                        return { ...item, amount: item.amount - 1 };\r\n                    }\r\n                    return item;\r\n                })\r\n                .filter((item) => item.amount !== 0);\r\n            console.log(newCartDec);\r\n            return { ...state, cart: newCartDec };\r\n        case 'GET_TOTALS':\r\n            let { total, amount } = state.cart.reduce(\r\n                (cartTotal, cartItem) => {\r\n                    const { price, amount } = cartItem;\r\n                    const itemTotal = price * amount;\r\n                    cartTotal.total += itemTotal;\r\n                    cartTotal.amount += amount;\r\n                    return cartTotal;\r\n                },\r\n                {\r\n                    total: 0,\r\n                    amount: 0,\r\n                }\r\n            );\r\n            total = parseFloat(total.toFixed(2));\r\n            return { ...state, total, amount };\r\n        default:\r\n            throw new Error('No action type found');\r\n    }\r\n};\r\n\r\nexport default reducer;\r\n","import React, { useEffect, useReducer, createContext } from 'react';\r\nimport axios from 'axios';\r\nimport reducer from './reducer';\r\n\r\nconst AppContext = createContext();\r\n\r\nconst defaultState = {\r\n    cart: [],\r\n    total: 0,\r\n    amount: 0,\r\n};\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(reducer, defaultState);\r\n\r\n    const fetchData = async () => {\r\n        const url = 'https://course-api.com/react-useReducer-cart-project';\r\n        try {\r\n            const response = await axios.get(url);\r\n            if (response.status >= 400) {\r\n                throw new Error(response.statusText);\r\n            }\r\n            const data = response.data;\r\n            dispatch({ type: 'FETCH_ITEMS', payload: data });\r\n        } catch (error) {\r\n            alert(error);\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const clearCart = () => {\r\n        dispatch({ type: 'CLEAR_CART' });\r\n    };\r\n\r\n    const removeItem = (id) => {\r\n        dispatch({ type: 'REMOVE_ITEM', payload: id });\r\n    };\r\n\r\n    const increase = (id) => {\r\n        dispatch({ type: 'INCREASE', payload: id });\r\n    };\r\n\r\n    const decrease = (id) => {\r\n        dispatch({ type: 'DECREASE', payload: id });\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: 'GET_TOTALS' });\r\n    }, [state.cart]);\r\n\r\n    return (\r\n        <AppContext.Provider\r\n            value={{\r\n                state,\r\n                clearCart,\r\n                removeItem,\r\n                increase,\r\n                decrease,\r\n            }}\r\n        >\r\n            {children}\r\n        </AppContext.Provider>\r\n    );\r\n};\r\n\r\nexport { AppProvider, AppContext };\r\n","import React, { useContext } from 'react';\r\nimport { AppContext } from './context';\r\n\r\nconst Navbar = () => {\r\n    const { state } = useContext(AppContext);\r\n    return (\r\n        <nav>\r\n            <div className='nav-center'>\r\n                <h3>useReducer</h3>\r\n                <div className='nav-container'>\r\n                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n                        <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\r\n                    </svg>\r\n                    <div className='amount-container'>\r\n                        <p className='total-amount'>{state.amount}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useContext } from 'react';\r\nimport { AppContext } from './context';\r\n\r\nconst CartItem = ({ id, img, price, title, amount }) => {\r\n    const { removeItem, increase, decrease } = useContext(AppContext);\r\n    return (\r\n        <>\r\n            {amount > 0 && (\r\n                <article className='cart-item'>\r\n                    <img src={img} alt={title} />\r\n                    <div>\r\n                        <h4>{title}</h4>\r\n                        <h4 className='item-price'>{`$${price}`}</h4>\r\n                        <button\r\n                            onClick={() => removeItem(id)}\r\n                            className='remove-btn'\r\n                        >\r\n                            remove\r\n                        </button>\r\n                    </div>\r\n                    <div>\r\n                        <button\r\n                            onClick={() => increase(id)}\r\n                            className='amount-btn'\r\n                        >\r\n                            <svg\r\n                                xmlns='http://www.w3.org/2000/svg'\r\n                                viewBox='0 0 20 20'\r\n                            >\r\n                                <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\r\n                            </svg>\r\n                        </button>\r\n                        <p className='amount'>{amount}</p>\r\n                        <button\r\n                            onClick={() => decrease(id)}\r\n                            className='amount-btn'\r\n                        >\r\n                            <svg\r\n                                xmlns='http://www.w3.org/2000/svg'\r\n                                viewBox='0 0 20 20'\r\n                            >\r\n                                <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n                            </svg>\r\n                        </button>\r\n                    </div>\r\n                </article>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useContext } from 'react';\r\nimport CartItem from './CartItem';\r\nimport { AppContext } from './context';\r\n\r\nconst CartContainer = () => {\r\n    const { state, clearCart } = useContext(AppContext);\r\n\r\n    return (\r\n        <section className='cart'>\r\n            <header>\r\n                <h2>your bag</h2>\r\n                {state.amount === 0 && (\r\n                    <h4 className='empty-cart'>is currently empty</h4>\r\n                )}\r\n            </header>\r\n            <div>\r\n                {state.cart &&\r\n                    state.cart.map((item) => {\r\n                        return <CartItem key={item.id} {...item} />;\r\n                    })}\r\n            </div>\r\n            {state.amount > 0 && (\r\n                <footer>\r\n                    <hr />\r\n                    <div className='cart-total'>\r\n                        <h4>\r\n                            total <span>${`${state.total}`}</span>\r\n                        </h4>\r\n                    </div>\r\n                    <button onClick={clearCart} className='btn clear-btn'>\r\n                        clear cart\r\n                    </button>\r\n                </footer>\r\n            )}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default CartContainer;\r\n","import React from 'react';\nimport Navbar from './components/Navbar';\nimport CartContainer from './components/CartContainer';\nimport { AppProvider } from './components/context';\n\nfunction App() {\n    return (\n        <main>\n            <AppProvider>\n                <Navbar />\n                <CartContainer />\n            </AppProvider>\n        </main>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}